<Label>:
    font_name: "Cairo-VariableFont_wght"

<FileChooserListView>:
    font_name: "Cairo-VariableFont_wght"
    font_size: self.width/20 + self.height/17
    size_hint: (1, 0.5)

<MyWidget>
    FloatLayout:
        CustomDropDown:
            FloatLayout:
                Button:
                    id: btn
                    text: "Select the aligning method:"
                    font_size: self.width/20 + self.height/17
                    size_hint: (0.35, 0.08)
                    pos_hint: {"top": 0.95, "x": 0.32}
                    background_color: 0.1, 0.3, 0.4, 1
                    on_parent: dropdown.dismiss()
                    on_release: dropdown.open(self)

                DropDown:
                    id: dropdown
                    on_select:
                        btn.text = '{}'.format(args[1])
                        root.save_selection(args[1])

                    Button:
                        text: "Center point"
                        font_size: self.width/22 + self.height/15
                        height: self.width/16 + self.height/3
                        size_hint_y: None
                        color: 0.05, 0.09, 0.15, 1
                        background_normal: ""
                        background_color: 0.5, 0.55, 0.6, 1
                        on_release: dropdown.select("Center point")

                    Button:
                        text: "ICP algorithm"
                        font_size: self.width/22 + self.height/15
                        height: self.width/16 + self.height/3
                        size_hint_y: None
                        color: 0.05, 0.09, 0.15, 1
                        background_normal: ""
                        background_color: 0.5, 0.55, 0.6, 1
                        on_release: dropdown.select("ICP algorithm")

        BoxLayout:
            orientation: "horizontal"
            spacing: 20
            padding: 20
            BoxLayout:
                orientation: "vertical"
                FloatLayout:
                    Label:
                        text: "Select the key organ:"
                        pos_hint: {"top": 0.95, "left": 1}
                        size_hint: (1, 0.2)
                        font_size: self.width/38 + self.height/25

                    FileChooserListView:
                        id: key_fch
                        pos_hint: {"top": 0.85, "left": 1, "padding": 40}
                        path: "."
                        multiselect: False
                        filters: ["*.obj"]
                        on_selection: root.selected(key_fch.selection, "key_fch")

#                    Label:
#                        pos_hint: {"bottom":0.8, "left":1}
#                        size_hint: (1, 0.5)
#                        text: root.key_label_text if root.key_label_text is not None else ""
#                        font_size: self.width/55 + self.height/45
#                        line_height: 0.6

            BoxLayout:
                orientation: "vertical"
                FloatLayout:
                    Label:
                        text: "Select the other organs:"
                        pos_hint: {"top": 0.95, "right": 1}
                        size_hint: (1, 0.2)
                        font_size: self.width/38 + self.height/25
#                        background_color: (0.8, 0.9, 1, 0.2)
#                        canvas.before:
#                            Color:
#                                rgba: self.background_color
#                            Rectangle:
#                                size: self.size/2
#                                pos: self.pos/2

                    FileChooserListView:
                        id: other_fch
                        pos_hint: {"top": 0.85, "right": 1, "padding": 40}
                        path: "."
                        multiselect: True
                        filters: ["*.obj"]
                        on_selection: root.selected(other_fch.selection, "other_fch")

#                    Label:
#                        pos_hint: {"bottom": 0.8, "right": 1}
#                        size_hint: (1, 0.5)
#                        text: root.other_label_text if root.other_label_text != None else ""
#                        font_size: self.width/55 + self.height/45
#                        line_height: 0.6

        FloatLayout:
            Button:
                id: btn1
                font_size: self.width/8
                color: 1, 1, 1, 1
                background_color: 0.7, 0.8, 0.9, 1
                size_hint: 0.2, 0.1
                pos_hint: {"right":0.6, "y": 0.05}
                text: "Visualize"
                on_release: root.visualize()
